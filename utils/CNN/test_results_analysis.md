# 결함 유형 분류 모델 테스트 결과 분석

## 📊 전체 성능 요약

- **전체 정확도**: 87.90% (712/810)
- **테스트 샘플 수**: 810개
- **클래스 수**: 13개

---

## 🎯 클래스별 정확도 분석

### 우수한 성능 (90% 이상)
1. **Reocater Streaking**: 100.00% (121/121) ⭐
2. **Humping**: 100.00% (6/6) ⭐
3. **Recoater Streaking**: 99.47% (373/375) ⭐
4. **3**: 95.45% (21/22)

### 양호한 성능 (70-90%)
5. **Super Elevation**: 81.82% (144/176)
6. **Laser capture timing error**: 75.00% (21/28)

### 개선 필요 (70% 미만)
7. **Fail**: 35.94% (23/64) ⚠️
8. **4**: 33.33% (2/6) ⚠️
9. **9**: 11.11% (1/9) ⚠️
10. **Insufficient Powder Delivery**: 0.00% (0/2) ⚠️
11. **Recoater capture timing error**: 0.00% (0/1) ⚠️

---

## 🔍 주요 오분류 패턴 분석

### 1. Fail 클래스의 오분류 (가장 심각)
- **Fail → Super Elevation**: 35개 (가장 많은 오분류)
- **Fail → Humping**: 6개
- **원인 분석**: 
  - Fail은 일반적인 "실패" 카테고리로 다양한 결함을 포함할 수 있음
  - Super Elevation과 시각적으로 유사한 패턴을 가질 수 있음
  - 샘플 수가 적어서 (64개) 학습이 부족할 수 있음

### 2. Super Elevation의 오분류
- **Super Elevation → Recoater Streaking**: 18개
- **Super Elevation → Fail**: 9개
- **Super Elevation → Humping**: 4개
- **원인 분석**:
  - Recoater Streaking과 시각적 유사성
  - 다양한 결함 유형과 혼동 가능

### 3. 소수 클래스의 오분류
- **9 → 3**: 8개
- **4 → 3**: 4개
- **원인 분석**:
  - 숫자 레이블 (3, 4, 9)은 의미가 불명확
  - 샘플 수가 매우 적음 (6-22개)
  - 레이블링 일관성 문제 가능성

### 4. Laser capture timing error의 오분류
- **Laser capture timing error → Recoater Streaking**: 6개
- **원인 분석**:
  - 타이밍 오류는 시각적 특징이 명확하지 않을 수 있음

---

## 📈 데이터 불균형 문제

### 샘플 수 분포
- **Recoater Streaking**: 375개 (가장 많음)
- **Super Elevation**: 176개
- **Reocater Streaking**: 121개
- **Fail**: 64개
- **Laser capture timing error**: 28개
- **3**: 22개
- **기타**: 1-9개 (매우 적음)

### 문제점
1. **클래스 불균형**: 일부 클래스는 1-2개 샘플만 존재
2. **소수 클래스 학습 부족**: 0% 정확도 클래스들이 있음
3. **레이블 품질**: 숫자 레이블 (3, 4, 9)의 의미 불명확

---

## 💡 개선 방안

### 1. 데이터 관련
- **소수 클래스 데이터 증강**: 샘플 수가 적은 클래스 (9, 4, Insufficient Powder Delivery 등)의 데이터 추가 수집
- **레이블 정제**: 숫자 레이블 (3, 4, 9)의 실제 의미 확인 및 통일
- **Fail 클래스 세분화**: Fail을 더 구체적인 결함 유형으로 분류

### 2. 모델 관련
- **클래스 가중치 조정**: 소수 클래스에 더 높은 가중치 부여
- **Focal Loss 사용**: 불균형 데이터에 효과적인 손실 함수
- **앙상블 모델**: 여러 모델의 예측 결합

### 3. 학습 관련
- **더 많은 에포크**: 현재 20 에포크 → 50-100 에포크
- **데이터 증강 강화**: 회전, 크롭, 밝기 조정 등
- **전이 학습**: 사전 학습된 모델 활용

---

## ✅ 긍정적인 결과

1. **주요 결함 유형 우수한 성능**:
   - Recoater Streaking (99.47%)
   - Reocater Streaking (100%)
   - Super Elevation (81.82%)

2. **전체 정확도 87.90%**: 실용적인 수준

3. **명확한 결함 유형은 잘 분류**: 시각적으로 구분되는 결함은 높은 정확도

---

## 📝 결론

모델은 **주요 결함 유형을 잘 분류**하고 있으며, 전체 정확도 87.90%는 실용적인 수준입니다. 

하지만 **소수 클래스와 Fail 클래스의 성능 개선**이 필요합니다. 특히:
- Fail 클래스는 Super Elevation과의 혼동이 많음
- 샘플 수가 10개 미만인 클래스들은 추가 데이터 수집 필요
- 숫자 레이블의 의미 명확화 필요

